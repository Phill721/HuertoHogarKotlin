<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/example/cosa/data/dao/UsuarioDAO.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/example/cosa/data/dao/UsuarioDAO.kt" />
              <option name="originalContent" value="package com.example.cosa.data.dao&#10;&#10;import androidx.room.Dao&#10;import androidx.room.Insert&#10;import androidx.room.Query&#10;import com.example.cosa.data.model.Usuario&#10;&#10;@Dao&#10;interface UsuarioDAO {&#10;    @Insert&#10;    suspend fun insert(usuario: Usuario)&#10;&#10;    @Query(&quot;SELECT * FROM usuarios WHERE correo = :correo LIMIT 1&quot;)&#10;    suspend fun getUsuarioPorCorreo(correo: String): Usuario?&#10;&#10;    @Query(&quot;SELECT * FROM usuarios WHERE usuario = :usuario LIMIT 1&quot;)&#10;    suspend fun getUsuarioPorNombre(usuario: String): Usuario?&#10;&#10;    @Query(&quot;SELECT * FROM usuarios&quot;)&#10;    suspend fun getAll(): List&lt;Usuario&gt;&#10;}" />
              <option name="updatedContent" value="package com.example.cosa.data.dao&#10;&#10;import androidx.room.Dao&#10;import androidx.room.Insert&#10;import androidx.room.Query&#10;import com.example.cosa.data.model.Usuario&#10;&#10;@Dao&#10;interface UsuarioDAO {&#10;    @Insert&#10;    suspend fun insert(usuario: Usuario)&#10;&#10;    @Query(&quot;SELECT * FROM usuarios WHERE correo = :correo LIMIT 1&quot;)&#10;    suspend fun getUsuarioPorCorreo(correo: String): Usuario?&#10;&#10;    @Query(&quot;SELECT * FROM usuarios WHERE usuario = :usuario LIMIT 1&quot;)&#10;    suspend fun getUsuarioPorNombre(usuario: String): Usuario?&#10;&#10;    @Query(&quot;SELECT * FROM usuarios&quot;)&#10;    suspend fun getAll(): List&lt;Usuario&gt;&#10;&#10;    @Query(&quot;DELETE FROM usuarios WHERE id = :id&quot;)&#10;    suspend fun deleteById(id: Int)&#10;&#10;    @Query(&quot;UPDATE usuarios SET rut = :rut, usuario = :usuario, correo = :correo, pass = :pass WHERE id = :id&quot;)&#10;    suspend fun updateById(id: Int, rut: String, usuario: String, correo: String, pass: String)&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/example/cosa/data/model/Sale.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/example/cosa/data/model/Sale.java" />
              <option name="originalContent" value="&#10;&#10;" />
              <option name="updatedContent" value="// Archivo archivado: Sale.java&#10;// Migrado a Kotlin data class Sale en `Venta.kt`.&#10;// Mantener este archivo vacío a propósito para evitar duplicados." />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/example/cosa/data/model/SaleItem.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/example/cosa/data/model/SaleItem.java" />
              <option name="originalContent" value="&#10;&#10;" />
              <option name="updatedContent" value="package com.example.cosa.data.model;&#10;&#10;// Archivo archivado: SaleItem.java&#10;// Migrado a Kotlin data class SaleItem en `Venta.kt`.&#10;// Este archivo se deja como backup y no contiene ninguna clase para evitar duplicados." />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/example/cosa/data/model/VentaItem.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/example/cosa/data/model/VentaItem.java" />
              <option name="originalContent" value="&#10;" />
              <option name="updatedContent" value="// Archivo archivado: VentaItem.java&#10;// Esta clase fue reemplazada por SaleItem.java (Java) en com.example.cosa.data.model&#10;// Mantengo este archivo vacío a propósito para evitar duplicados." />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/example/cosa/data/repository/ProductoRepository.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/example/cosa/data/repository/ProductoRepository.kt" />
              <option name="originalContent" value="package com.example.cosa.data.repository&#10;&#10;import com.example.cosa.data.Enum.CategoriaENUM&#10;import com.example.cosa.data.model.Producto&#10;import kotlinx.coroutines.delay&#10;&#10;class ProductoRepository {&#10;&#10;    private val productos = mutableListOf(&#10;        Producto(&quot;fruit1&quot;,&quot;Manzanas Fuji&quot;,&quot;Manzanas Fuji crujientes y dulces, cultivadas en el Valle del Maule. Perfectas para meriendas saludables o como ingrediente en postres. Estas manzanas son conocidas por su textura firme y su sabor equilibrado entre dulce y ácido.&quot;,&#10;            1200.0,&quot;fruit1&quot;,&quot;manzanafuji2&quot;,&quot;manzanafuji3&quot;,&quot;manzanafuji4&quot;,50, CategoriaENUM.FRUTAS_FRESCAS),&#10;        Producto(&quot;fruit2&quot;,&quot;Naranjas Valencianas&quot;,&quot;Jugosas y ricas en vitamina C, estas naranjas Valencia son ideales para zumos frescos y refrescantes. Cultivadas en condiciones climáticas óptimas que aseguran su dulzura y jugosidad&quot;,&#10;            1000.0,&quot;fruit2&quot;,&quot;naranja1&quot;,&quot;naranja1_1&quot;,&quot;naranja4&quot;,50, CategoriaENUM.FRUTAS_FRESCAS),&#10;        Producto(&quot;fruit3&quot;,&quot;Platanos Cavendish&quot;,&quot;Plátanos maduros y dulces, perfectos para el desayuno o como snack energético. Estos plátanos son ricos en potasio y vitaminas, ideales para mantener una dieta equilibrada.&quot;,&#10;            800.0,&quot;fruit3&quot;,&quot;banana2&quot;,&quot;banana3&quot;,&quot;banana4&quot;,50, CategoriaENUM.FRUTAS_FRESCAS),&#10;        Producto(&quot;verdura1&quot;,&quot;Zanahorias Organicas&quot;,&quot;Zanahorias crujientes cultivadas sin pesticidas en la Región de O'Higgins. Excelente fuente de vitamina A y fibra, ideales para ensaladas, jugos o como snack saludable.&quot;,&#10;            900.0,&quot;zanahoria1&quot;,&quot;zanahoria2&quot;,&quot;zanahoria3&quot;,&quot;zanahoria4&quot;,50, CategoriaENUM.VERDURAS_ORGANICAS),&#10;        Producto(&quot;verdura2&quot;,&quot;Espinacas Frescas&quot;,&quot;Espinacas frescas y nutritivas, perfectas para ensaladas y batidos verdes. Estas espinacas son cultivadas bajo prácticas orgánicas que garantizan su calidad y valor nutricional&quot;,&#10;            700.0,&quot;espinaca1&quot;,&quot;espinaca2&quot;,&quot;espinaca3&quot;,&quot;espinaca4&quot;,50, CategoriaENUM.VERDURAS_ORGANICAS),&#10;        Producto(&quot;verdura3&quot;,&quot;Pimientos Tricolores&quot;,&quot;Pimientos rojos, amarillos y verdes, ideales para salteados y platos coloridos. Ricos en antioxidantes y vitaminas, estos pimientos añaden un toque vibrante y saludable a cualquier receta&quot;,&#10;            1500.0,&quot;pimientos1&quot;,&quot;pimientos2&quot;,&quot;pimientos3&quot;,&quot;pimientos4&quot;,50, CategoriaENUM.VERDURAS_ORGANICAS),&#10;        Producto(&quot;organicproduct1&quot;,&quot;Miel Organica&quot;,&quot;Miel pura y orgánica producida por apicultores locales. Rica en antioxidantes y con un sabor inigualable, perfecta para endulzar de manera natural tus comidas y bebidas.&quot;,&#10;            5000.0,&quot;miel1&quot;,&quot;miel2&quot;,&quot;miel3&quot;,&quot;miel4&quot;,50, CategoriaENUM.PRODUCTOS_ORGANICOS)&#10;&#10;&#10;    )&#10;    suspend fun obtenerProductos(): List&lt;Producto&gt;{&#10;        delay(1000)&#10;        return productos.toList()&#10;    }&#10;&#10;    suspend fun buscarProducto(query: String): List&lt;Producto&gt; {&#10;        delay(600)&#10;        return productos.filter {&#10;            it.nombre.contains(query, ignoreCase = true) ||&#10;            it.descripcion.contains(query, ignoreCase = true)&#10;        }&#10;    }&#10;&#10;    suspend fun buscarCategoria(categoria: CategoriaENUM): List&lt;Producto&gt;{&#10;        delay(300)&#10;        return productos.filter { it.categoria == categoria }&#10;    }&#10;}" />
              <option name="updatedContent" value="package com.example.cosa.data.repository&#10;&#10;import com.example.cosa.data.Enum.CategoriaENUM&#10;import com.example.cosa.data.model.Producto&#10;import kotlinx.coroutines.delay&#10;&#10;class ProductoRepository {&#10;&#10;    private val productos = mutableListOf(&#10;        Producto(&quot;fruit1&quot;,&quot;Manzanas Fuji&quot;,&quot;Manzanas Fuji crujientes y dulces, cultivadas en el Valle del Maule. Perfectas para meriendas saludables o como ingrediente en postres. Estas manzanas son conocidas por su textura firme y su sabor equilibrado entre dulce y ácido.&quot;,&#10;            1200.0,&quot;fruit1&quot;,&quot;manzanafuji2&quot;,&quot;manzanafuji3&quot;,&quot;manzanafuji4&quot;,50, CategoriaENUM.FRUTAS_FRESCAS),&#10;        Producto(&quot;fruit2&quot;,&quot;Naranjas Valencianas&quot;,&quot;Jugosas y ricas en vitamina C, estas naranjas Valencia son ideales para zumos frescos y refrescantes. Cultivadas en condiciones climáticas óptimas que aseguran su dulzura y jugosidad&quot;,&#10;            1000.0,&quot;fruit2&quot;,&quot;naranja1&quot;,&quot;naranja1_1&quot;,&quot;naranja4&quot;,50, CategoriaENUM.FRUTAS_FRESCAS),&#10;        Producto(&quot;fruit3&quot;,&quot;Platanos Cavendish&quot;,&quot;Plátanos maduros y dulces, perfectos para el desayuno o como snack energético. Estos plátanos son ricos en potasio y vitaminas, ideales para mantener una dieta equilibrada.&quot;,&#10;            800.0,&quot;fruit3&quot;,&quot;banana2&quot;,&quot;banana3&quot;,&quot;banana4&quot;,50, CategoriaENUM.FRUTAS_FRESCAS),&#10;        Producto(&quot;verdura1&quot;,&quot;Zanahorias Organicas&quot;,&quot;Zanahorias crujientes cultivadas sin pesticidas en la Región de O'Higgins. Excelente fuente de vitamina A y fibra, ideales para ensaladas, jugos o como snack saludable.&quot;,&#10;            900.0,&quot;zanahoria1&quot;,&quot;zanahoria2&quot;,&quot;zanahoria3&quot;,&quot;zanahoria4&quot;,50, CategoriaENUM.VERDURAS_ORGANICAS),&#10;        Producto(&quot;verdura2&quot;,&quot;Espinacas Frescas&quot;,&quot;Espinacas frescas y nutritivas, perfectas para ensaladas y batidos verdes. Estas espinacas son cultivadas bajo prácticas orgánicas que garantizan su calidad y valor nutricional&quot;,&#10;            700.0,&quot;espinaca1&quot;,&quot;espinaca2&quot;,&quot;espinaca3&quot;,&quot;espinaca4&quot;,50, CategoriaENUM.VERDURAS_ORGANICAS),&#10;        Producto(&quot;verdura3&quot;,&quot;Pimientos Tricolores&quot;,&quot;Pimientos rojos, amarillos y verdes, ideales para salteados y platos coloridos. Ricos en antioxidantes y vitaminas, estos pimientos añaden un toque vibrante y saludable a cualquier receta&quot;,&#10;            1500.0,&quot;pimientos1&quot;,&quot;pimientos2&quot;,&quot;pimientos3&quot;,&quot;pimientos4&quot;,50, CategoriaENUM.VERDURAS_ORGANICAS),&#10;        Producto(&quot;organicproduct1&quot;,&quot;Miel Organica&quot;,&quot;Miel pura y orgánica producida por apicultores locales. Rica en antioxidantes y con un sabor inigualable, perfecta para endulzar de manera natural tus comidas y bebidas.&quot;,&#10;            5000.0,&quot;miel1&quot;,&quot;miel2&quot;,&quot;miel3&quot;,&quot;miel4&quot;,50, CategoriaENUM.PRODUCTOS_ORGANICOS)&#10;&#10;&#10;    )&#10;&#10;    suspend fun obtenerProductos(): List&lt;Producto&gt;{&#10;        delay(300)&#10;        return productos.toList()&#10;    }&#10;&#10;    suspend fun buscarProducto(query: String): List&lt;Producto&gt; {&#10;        delay(200)&#10;        return productos.filter {&#10;            it.nombre.contains(query, ignoreCase = true) ||&#10;                    it.descripcion.contains(query, ignoreCase = true)&#10;        }&#10;    }&#10;&#10;    suspend fun buscarCategoria(categoria: CategoriaENUM): List&lt;Producto&gt;{&#10;        delay(150)&#10;        return productos.filter { it.categoria == categoria }&#10;    }&#10;&#10;    // Nuevo: agregar producto (genera id sencillo)&#10;    suspend fun agregarProducto(producto: Producto) {&#10;        delay(100)&#10;        // generar id único simple&#10;        val nuevoId = &quot;p${System.currentTimeMillis()}&quot;&#10;        val p = producto.copy(id = nuevoId)&#10;        productos.add(p)&#10;    }&#10;&#10;    suspend fun actualizarProducto(producto: Producto) {&#10;        delay(100)&#10;        val idx = productos.indexOfFirst { it.id == producto.id }&#10;        if (idx &gt;= 0) {&#10;            productos[idx] = producto&#10;        }&#10;    }&#10;&#10;    suspend fun eliminarProducto(id: String) {&#10;        delay(100)&#10;        productos.removeAll { it.id == id }&#10;    }&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/example/cosa/data/repository/VentaRepository.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/example/cosa/data/repository/VentaRepository.kt" />
              <option name="originalContent" value="&#10;" />
              <option name="updatedContent" value="package com.example.cosa.data.repository&#10;&#10;import com.example.cosa.data.model.Sale&#10;import com.example.cosa.data.model.SaleItem&#10;import java.util.Date&#10;&#10;class VentaRepository {&#10;    private val ventas = mutableListOf&lt;Sale&gt;()&#10;&#10;    init {&#10;        // datos de ejemplo&#10;        ventas.add(&#10;            Sale(&#10;                &quot;v1&quot;,&#10;                Date().time,&#10;                3200.0,&#10;                listOf(&#10;                    SaleItem(&quot;fruit1&quot;,&quot;Manzanas Fuji&quot;,2,1200.0),&#10;                    SaleItem(&quot;fruit3&quot;,&quot;Platanos Cavendish&quot;,1,800.0)&#10;                )&#10;            )&#10;        )&#10;&#10;        ventas.add(&#10;            Sale(&#10;                &quot;v2&quot;,&#10;                Date().time - 86400000,&#10;                1500.0,&#10;                listOf(&#10;                    SaleItem(&quot;verdura3&quot;,&quot;Pimientos Tricolores&quot;,1,1500.0)&#10;                )&#10;            )&#10;        )&#10;&#10;        ventas.add(&#10;            Sale(&#10;                &quot;v3&quot;,&#10;                Date().time - 2*86400000,&#10;                4200.0,&#10;                listOf(&#10;                    SaleItem(&quot;organicproduct1&quot;,&quot;Miel Organica&quot;,1,4200.0)&#10;                )&#10;            )&#10;        )&#10;    }&#10;&#10;    fun obtenerVentas(): List&lt;Sale&gt; {&#10;        return ventas.toList()&#10;    }&#10;&#10;    fun obtenerVentaPorId(id: String): Sale? {&#10;        return ventas.find { it.id == id }&#10;    }&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/example/cosa/presentation/ui/screens/ProductosAdminScreen.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/example/cosa/presentation/ui/screens/ProductosAdminScreen.kt" />
              <option name="originalContent" value="package com.example.cosa.presentation.ui.screens&#10;&#10;import androidx.compose.foundation.clickable&#10;import androidx.compose.foundation.layout.*&#10;import androidx.compose.foundation.lazy.LazyColumn&#10;import androidx.compose.foundation.lazy.items&#10;import androidx.compose.material3.Card&#10;import androidx.compose.material3.MaterialTheme&#10;import androidx.compose.material3.Text&#10;import androidx.compose.runtime.*&#10;import androidx.compose.ui.Modifier&#10;import androidx.compose.ui.unit.dp&#10;import androidx.navigation.NavHostController&#10;import com.example.cosa.data.model.Producto&#10;import com.example.cosa.data.repository.ProductoRepository&#10;import kotlinx.coroutines.launch&#10;&#10;@Composable&#10;fun ProductosAdminScreen(navController: NavHostController) {&#10;    val scope = rememberCoroutineScope()&#10;    var productos by remember { mutableStateOf&lt;List&lt;Producto&gt;&gt;(emptyList()) }&#10;&#10;    LaunchedEffect(Unit) {&#10;        val repo = ProductoRepository()&#10;        scope.launch {&#10;            productos = repo.obtenerProductos()&#10;        }&#10;    }&#10;&#10;    Column(modifier = Modifier.fillMaxSize().padding(12.dp)) {&#10;        Text(&quot;Productos&quot;, style = MaterialTheme.typography.titleMedium)&#10;        Spacer(modifier = Modifier.height(8.dp))&#10;&#10;        LazyColumn(modifier = Modifier.fillMaxSize()) {&#10;            items(productos) { p -&gt;&#10;                Card(modifier = Modifier&#10;                    .fillMaxWidth()&#10;                    .padding(vertical = 6.dp)&#10;                    .clickable { /* futuro: editar producto */ }) {&#10;                    Column(modifier = Modifier.padding(12.dp)) {&#10;                        Text(text = p.nombre, style = MaterialTheme.typography.titleSmall)&#10;                        Spacer(modifier = Modifier.height(4.dp))&#10;                        Text(text = &quot;Precio: $${p.precio}&quot;)&#10;                        Spacer(modifier = Modifier.height(4.dp))&#10;                        Text(text = p.descripcion, maxLines = 2)&#10;                    }&#10;                }&#10;            }&#10;        }&#10;    }&#10;}&#10;&#10;&#10;&#10;" />
              <option name="updatedContent" value="package com.example.cosa.presentation.ui.screens&#10;&#10;import androidx.compose.animation.AnimatedVisibility&#10;import androidx.compose.foundation.background&#10;import androidx.compose.foundation.layout.*&#10;import androidx.compose.foundation.lazy.LazyColumn&#10;import androidx.compose.foundation.lazy.items&#10;import androidx.compose.material3.*&#10;import androidx.compose.material.icons.Icons&#10;import androidx.compose.material.icons.filled.Delete&#10;import androidx.compose.material.icons.filled.Edit&#10;import androidx.compose.runtime.*&#10;import androidx.compose.ui.Alignment&#10;import androidx.compose.ui.Modifier&#10;import androidx.compose.ui.graphics.Color&#10;import androidx.compose.ui.text.font.FontWeight&#10;import androidx.compose.ui.text.style.TextOverflow&#10;import androidx.compose.ui.unit.dp&#10;import androidx.compose.ui.unit.sp&#10;import androidx.navigation.NavHostController&#10;import com.example.cosa.data.model.Producto&#10;import com.example.cosa.data.repository.ProductoRepository&#10;import kotlinx.coroutines.launch&#10;&#10;private val AccentGreen = Color(0xFF2E8B57)&#10;private val BgMain = Color(0xFFF7F7F7)&#10;&#10;@OptIn(ExperimentalMaterial3Api::class)&#10;@Composable&#10;fun ProductosAdminScreen(navController: NavHostController) {&#10;    val repo = remember { ProductoRepository() }&#10;    val scope = rememberCoroutineScope()&#10;&#10;    var productos by remember { mutableStateOf&lt;List&lt;Producto&gt;&gt;(emptyList()) }&#10;    var mostrandoFormulario by remember { mutableStateOf(false) }&#10;    var editarProducto by remember { mutableStateOf&lt;Producto?&gt;(null) }&#10;&#10;    // Campos del formulario&#10;    var nombre by remember { mutableStateOf(&quot;&quot;) }&#10;    var descripcion by remember { mutableStateOf(&quot;&quot;) }&#10;    var precio by remember { mutableStateOf(&quot;&quot;) }&#10;    var stock by remember { mutableStateOf(&quot;&quot;) }&#10;&#10;    LaunchedEffect(Unit) {&#10;        productos = repo.obtenerProductos()&#10;    }&#10;&#10;    Column(modifier = Modifier&#10;        .fillMaxSize()&#10;        .background(BgMain)&#10;        .padding(16.dp)) {&#10;&#10;        Row(verticalAlignment = Alignment.CenterVertically, modifier = Modifier.fillMaxWidth()) {&#10;            Text(&quot;Gestión de Productos&quot;, fontSize = 22.sp, fontWeight = FontWeight.Bold)&#10;            Spacer(modifier = Modifier.weight(1f))&#10;            Button(colors = ButtonDefaults.buttonColors(containerColor = AccentGreen), onClick = {&#10;                mostrandoFormulario = !mostrandoFormulario&#10;                if (!mostrandoFormulario) {&#10;                    // limpiar&#10;                    editarProducto = null&#10;                    nombre = &quot;&quot;; descripcion = &quot;&quot;; precio = &quot;&quot;; stock = &quot;&quot;&#10;                }&#10;            }) {&#10;                Text(if (mostrandoFormulario) &quot;Cerrar formulario&quot; else &quot;Agregar Producto&quot;, color = Color.White)&#10;            }&#10;        }&#10;&#10;        Spacer(modifier = Modifier.height(12.dp))&#10;&#10;        // Formulario colapsable&#10;        AnimatedVisibility(visible = mostrandoFormulario) {&#10;            Card(modifier = Modifier.fillMaxWidth(), elevation = CardDefaults.cardElevation(6.dp)) {&#10;                Column(modifier = Modifier.padding(16.dp)) {&#10;                    Text(text = if (editarProducto == null) &quot;Agregar Nuevo Producto&quot; else &quot;Editar Producto&quot;, fontWeight = FontWeight.SemiBold)&#10;                    Spacer(modifier = Modifier.height(8.dp))&#10;&#10;                    OutlinedTextField(value = nombre, onValueChange = { nombre = it }, label = { Text(&quot;Nombre&quot;) }, modifier = Modifier.fillMaxWidth())&#10;                    Spacer(modifier = Modifier.height(8.dp))&#10;                    OutlinedTextField(value = descripcion, onValueChange = { descripcion = it }, label = { Text(&quot;Descripción&quot;) }, modifier = Modifier.fillMaxWidth())&#10;                    Spacer(modifier = Modifier.height(8.dp))&#10;                    OutlinedTextField(value = precio, onValueChange = { precio = it }, label = { Text(&quot;Precio (sin formato)&quot;) }, modifier = Modifier.fillMaxWidth())&#10;                    Spacer(modifier = Modifier.height(8.dp))&#10;                    OutlinedTextField(value = stock, onValueChange = { stock = it }, label = { Text(&quot;Stock&quot;) }, modifier = Modifier.fillMaxWidth())&#10;&#10;                    Spacer(modifier = Modifier.height(12.dp))&#10;                    Row {&#10;                        Button(onClick = {&#10;                            // validar y crear/actualizar&#10;                            val p = Producto(&#10;                                id = editarProducto?.id ?: &quot;&quot;,&#10;                                nombre = nombre,&#10;                                descripcion = descripcion,&#10;                                precio = precio.toDoubleOrNull() ?: 0.0,&#10;                                imagen1 = &quot;&quot;,&#10;                                imagen2 = &quot;&quot;,&#10;                                imagen3 = &quot;&quot;,&#10;                                imagen4 = &quot;&quot;,&#10;                                stock = stock.toIntOrNull() ?: 0,&#10;                                categoria = com.example.cosa.data.Enum.CategoriaENUM.FRUTAS_FRESCAS&#10;                            )&#10;                            scope.launch {&#10;                                if (editarProducto == null) {&#10;                                    repo.agregarProducto(p)&#10;                                } else {&#10;                                    repo.actualizarProducto(p)&#10;                                }&#10;                                productos = repo.obtenerProductos()&#10;                                mostrandoFormulario = false&#10;                                editarProducto = null&#10;                                nombre = &quot;&quot;; descripcion = &quot;&quot;; precio = &quot;&quot;; stock = &quot;&quot;&#10;                            }&#10;                        }) {&#10;                            Text(&quot;Guardar&quot;)&#10;                        }&#10;                        Spacer(modifier = Modifier.width(8.dp))&#10;                        OutlinedButton(onClick = {&#10;                            mostrandoFormulario = false&#10;                            editarProducto = null&#10;                        }) {&#10;                            Text(&quot;Cancelar&quot;)&#10;                        }&#10;                    }&#10;                }&#10;            }&#10;        }&#10;&#10;        Spacer(modifier = Modifier.height(12.dp))&#10;&#10;        // Lista estilo tabla&#10;        Card(modifier = Modifier.fillMaxWidth(), elevation = CardDefaults.cardElevation(4.dp)) {&#10;            Column(modifier = Modifier.padding(12.dp)) {&#10;                Row(modifier = Modifier.fillMaxWidth(), horizontalArrangement = Arrangement.spacedBy(8.dp)) {&#10;                    Text(&quot;Nombre&quot;, modifier = Modifier.weight(2f), fontWeight = FontWeight.Bold)&#10;                    Text(&quot;Precio&quot;, modifier = Modifier.weight(1f), fontWeight = FontWeight.Bold)&#10;                    Text(&quot;Stock&quot;, modifier = Modifier.weight(1f), fontWeight = FontWeight.Bold)&#10;                    Text(&quot;Acciones&quot;, modifier = Modifier.widthIn(min = 96.dp), fontWeight = FontWeight.Bold)&#10;                }&#10;                HorizontalDivider(thickness = 1.dp)&#10;&#10;                LazyColumn(modifier = Modifier.fillMaxWidth()) {&#10;                    items(productos) { p -&gt;&#10;                        Row(modifier = Modifier.fillMaxWidth().padding(vertical = 8.dp), verticalAlignment = Alignment.CenterVertically) {&#10;                            Text(p.nombre, modifier = Modifier.weight(2f), maxLines = 1, overflow = TextOverflow.Ellipsis)&#10;                            Text(p.precioFormateado, modifier = Modifier.weight(1f), maxLines = 1, overflow = TextOverflow.Ellipsis)&#10;                            Text(p.stock.toString(), modifier = Modifier.weight(1f))&#10;                            Row(modifier = Modifier.widthIn(min = 96.dp), horizontalArrangement = Arrangement.spacedBy(8.dp), verticalAlignment = Alignment.CenterVertically) {&#10;                                IconButton(onClick = {&#10;                                    editarProducto = p&#10;                                    mostrandoFormulario = true&#10;                                    nombre = p.nombre; descripcion = p.descripcion; precio = p.precio.toString(); stock = p.stock.toString()&#10;                                }, modifier = Modifier.size(40.dp)) {&#10;                                    Icon(imageVector = Icons.Filled.Edit, contentDescription = &quot;Editar&quot;, tint = AccentGreen, modifier = Modifier.size(20.dp))&#10;                                }&#10;                                IconButton(onClick = {&#10;                                    scope.launch {&#10;                                        repo.eliminarProducto(p.id)&#10;                                        productos = repo.obtenerProductos()&#10;                                    }&#10;                                }, modifier = Modifier.size(40.dp)) {&#10;                                    Icon(imageVector = Icons.Filled.Delete, contentDescription = &quot;Eliminar&quot;, tint = Color.Red, modifier = Modifier.size(20.dp))&#10;                                }&#10;                            }&#10;                        }&#10;                        HorizontalDivider(thickness = 1.dp)&#10;                    }&#10;                }&#10;            }&#10;        }&#10;    }&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/example/cosa/presentation/ui/screens/UsuariosAdminScreen.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/example/cosa/presentation/ui/screens/UsuariosAdminScreen.kt" />
              <option name="originalContent" value="package com.example.cosa.presentation.ui.screens&#10;&#10;import androidx.compose.foundation.background&#10;import androidx.compose.foundation.layout.*&#10;import androidx.compose.foundation.lazy.LazyColumn&#10;import androidx.compose.foundation.lazy.items&#10;import androidx.compose.material3.*&#10;import androidx.compose.material.icons.Icons&#10;import androidx.compose.material.icons.filled.Delete&#10;import androidx.compose.material.icons.filled.Edit&#10;import androidx.compose.runtime.*&#10;import androidx.compose.ui.Alignment&#10;import androidx.compose.ui.Modifier&#10;import androidx.compose.ui.graphics.Color&#10;import androidx.compose.ui.platform.LocalContext&#10;import androidx.compose.ui.text.font.FontWeight&#10;import androidx.compose.ui.unit.dp&#10;import androidx.compose.ui.unit.sp&#10;import androidx.navigation.NavHostController&#10;import com.example.cosa.data.database.AppDatabase&#10;import com.example.cosa.data.model.Usuario&#10;import kotlinx.coroutines.launch&#10;&#10;private val AccentGreen = Color(0xFF2E8B57)&#10;private val BgMain = Color(0xFFF7F7F7)&#10;&#10;@OptIn(ExperimentalMaterial3Api::class)&#10;@Composable&#10;fun UsuariosAdminScreen(navController: NavHostController) {&#10;    val context = LocalContext.current&#10;    val db = remember { AppDatabase.getDatabase(context) }&#10;    val usuarioDao = remember { db.usuarioDao() }&#10;&#10;    val scope = rememberCoroutineScope()&#10;    var usuarios by remember { mutableStateOf&lt;List&lt;Usuario&gt;&gt;(emptyList()) }&#10;&#10;    // estado para diálogo edición&#10;    var mostrarDialogEdicion by remember { mutableStateOf(false) }&#10;    var usuarioAEditar by remember { mutableStateOf&lt;Usuario?&gt;(null) }&#10;&#10;    // campos del diálogo&#10;    var editRut by remember { mutableStateOf(&quot;&quot;) }&#10;    var editUsuario by remember { mutableStateOf(&quot;&quot;) }&#10;    var editCorreo by remember { mutableStateOf(&quot;&quot;) }&#10;    var editPass by remember { mutableStateOf(&quot;&quot;) }&#10;&#10;    LaunchedEffect(Unit) {&#10;        usuarios = usuarioDao.getAll()&#10;    }&#10;&#10;    Column(modifier = Modifier&#10;        .fillMaxSize()&#10;        .background(BgMain)&#10;        .padding(16.dp)) {&#10;&#10;        Row(verticalAlignment = Alignment.CenterVertically, modifier = Modifier.fillMaxWidth()) {&#10;            Text(&quot;Gestión de Usuarios&quot;, fontSize = 22.sp, fontWeight = FontWeight.Bold)&#10;            Spacer(modifier = Modifier.weight(1f))&#10;            Button(colors = ButtonDefaults.buttonColors(containerColor = AccentGreen), onClick = { navController.navigate(&quot;registro&quot;) }) {&#10;                Text(&quot;Agregar Usuario&quot;, color = Color.White)&#10;            }&#10;        }&#10;&#10;        Spacer(modifier = Modifier.height(12.dp))&#10;&#10;        Card(modifier = Modifier.fillMaxWidth(), elevation = CardDefaults.cardElevation(4.dp)) {&#10;            Column(modifier = Modifier.padding(12.dp)) {&#10;                Row(modifier = Modifier.fillMaxWidth(), horizontalArrangement = Arrangement.spacedBy(8.dp)) {&#10;                    Text(&quot;Nombre&quot;, modifier = Modifier.weight(2f), fontWeight = FontWeight.Bold)&#10;                    Text(&quot;RUT&quot;, modifier = Modifier.weight(1f), fontWeight = FontWeight.Bold)&#10;                    Text(&quot;Correo&quot;, modifier = Modifier.weight(2f), fontWeight = FontWeight.Bold)&#10;                    Text(&quot;Acciones&quot;, modifier = Modifier.weight(1f), fontWeight = FontWeight.Bold)&#10;                }&#10;                HorizontalDivider(thickness = 1.dp)&#10;&#10;                LazyColumn(modifier = Modifier.fillMaxWidth()) {&#10;                    items(usuarios) { u -&gt;&#10;                        Row(modifier = Modifier.fillMaxWidth().padding(vertical = 8.dp), verticalAlignment = Alignment.CenterVertically) {&#10;                            Text(u.usuario, modifier = Modifier.weight(2f))&#10;                            Text(u.rut, modifier = Modifier.weight(1f))&#10;                            Text(u.correo, modifier = Modifier.weight(2f))&#10;                            Row(modifier = Modifier.weight(1f), horizontalArrangement = Arrangement.spacedBy(8.dp)) {&#10;                                IconButton(onClick = {&#10;                                    // preparar diálogo edición&#10;                                    usuarioAEditar = u&#10;                                    editRut = u.rut&#10;                                    editUsuario = u.usuario&#10;                                    editCorreo = u.correo&#10;                                    editPass = u.pass&#10;                                    mostrarDialogEdicion = true&#10;                                }) {&#10;                                    Icon(&#10;                                        imageVector = Icons.Filled.Edit,&#10;                                        contentDescription = &quot;Editar&quot;,&#10;                                        tint = AccentGreen&#10;                                    )&#10;                                }&#10;&#10;                                IconButton(onClick = {&#10;                                    // eliminar&#10;                                    scope.launch {&#10;                                        usuarioDao.deleteById(u.id)&#10;                                        usuarios = usuarioDao.getAll()&#10;                                    }&#10;                                }) {&#10;                                    Icon(&#10;                                        imageVector = Icons.Filled.Delete,&#10;                                        contentDescription = &quot;Eliminar&quot;,&#10;                                        tint = Color.Red&#10;                                    )&#10;                                }&#10;                            }&#10;                        }&#10;                        HorizontalDivider(thickness = 1.dp)&#10;                    }&#10;                }&#10;            }&#10;        }&#10;    }&#10;&#10;    // Dialogo de edición&#10;    if (mostrarDialogEdicion &amp;&amp; usuarioAEditar != null) {&#10;        AlertDialog(&#10;            onDismissRequest = { mostrarDialogEdicion = false },&#10;            confirmButton = {&#10;                TextButton(onClick = {&#10;                    // guardar cambios&#10;                    val id = usuarioAEditar!!.id&#10;                    scope.launch {&#10;                        usuarioDao.updateById(id, editRut, editUsuario, editCorreo, editPass)&#10;                        usuarios = usuarioDao.getAll()&#10;                        mostrarDialogEdicion = false&#10;                    }&#10;                }) { Text(&quot;Guardar&quot;) }&#10;            },&#10;            dismissButton = {&#10;                TextButton(onClick = { mostrarDialogEdicion = false }) { Text(&quot;Cancelar&quot;) }&#10;            },&#10;            title = { Text(&quot;Editar usuario&quot;) },&#10;            text = {&#10;                Column {&#10;                    OutlinedTextField(value = editRut, onValueChange = { editRut = it }, label = { Text(&quot;RUT&quot;) })&#10;                    OutlinedTextField(value = editUsuario, onValueChange = { editUsuario = it }, label = { Text(&quot;Nombre de usuario&quot;) })&#10;                    OutlinedTextField(value = editCorreo, onValueChange = { editCorreo = it }, label = { Text(&quot;Correo&quot;) })&#10;                    OutlinedTextField(value = editPass, onValueChange = { editPass = it }, label = { Text(&quot;Password&quot;) })&#10;                }&#10;            }&#10;        )&#10;    }&#10;}&#10;" />
              <option name="updatedContent" value="package com.example.cosa.presentation.ui.screens&#10;&#10;import androidx.compose.foundation.background&#10;import androidx.compose.foundation.layout.*&#10;import androidx.compose.foundation.lazy.LazyColumn&#10;import androidx.compose.foundation.lazy.items&#10;import androidx.compose.material3.*&#10;import androidx.compose.material.icons.Icons&#10;import androidx.compose.material.icons.filled.Delete&#10;import androidx.compose.material.icons.filled.Edit&#10;import androidx.compose.runtime.*&#10;import androidx.compose.ui.Alignment&#10;import androidx.compose.ui.Modifier&#10;import androidx.compose.ui.graphics.Color&#10;import androidx.compose.ui.platform.LocalContext&#10;import androidx.compose.ui.text.font.FontWeight&#10;import androidx.compose.ui.text.style.TextOverflow&#10;import androidx.compose.ui.unit.dp&#10;import androidx.compose.ui.unit.sp&#10;import androidx.navigation.NavHostController&#10;import com.example.cosa.data.database.AppDatabase&#10;import com.example.cosa.data.model.Usuario&#10;import kotlinx.coroutines.launch&#10;&#10;private val AccentGreen = Color(0xFF2E8B57)&#10;private val BgMain = Color(0xFFF7F7F7)&#10;&#10;@OptIn(ExperimentalMaterial3Api::class)&#10;@Composable&#10;fun UsuariosAdminScreen(navController: NavHostController) {&#10;    val context = LocalContext.current&#10;    val db = remember { AppDatabase.getDatabase(context) }&#10;    val usuarioDao = remember { db.usuarioDao() }&#10;&#10;    val scope = rememberCoroutineScope()&#10;    var usuarios by remember { mutableStateOf&lt;List&lt;Usuario&gt;&gt;(emptyList()) }&#10;&#10;    // estado para diálogo edición&#10;    var mostrarDialogEdicion by remember { mutableStateOf(false) }&#10;    var usuarioAEditar by remember { mutableStateOf&lt;Usuario?&gt;(null) }&#10;&#10;    // campos del diálogo&#10;    var editRut by remember { mutableStateOf(&quot;&quot;) }&#10;    var editUsuario by remember { mutableStateOf(&quot;&quot;) }&#10;    var editCorreo by remember { mutableStateOf(&quot;&quot;) }&#10;    var editPass by remember { mutableStateOf(&quot;&quot;) }&#10;&#10;    LaunchedEffect(Unit) {&#10;        usuarios = usuarioDao.getAll()&#10;    }&#10;&#10;    Column(modifier = Modifier&#10;        .fillMaxSize()&#10;        .background(BgMain)&#10;        .padding(16.dp)) {&#10;&#10;        Row(verticalAlignment = Alignment.CenterVertically, modifier = Modifier.fillMaxWidth()) {&#10;            Text(&quot;Gestión de Usuarios&quot;, fontSize = 22.sp, fontWeight = FontWeight.Bold)&#10;            Spacer(modifier = Modifier.weight(1f))&#10;            Button(colors = ButtonDefaults.buttonColors(containerColor = AccentGreen), onClick = { navController.navigate(&quot;registro&quot;) }) {&#10;                Text(&quot;Agregar Usuario&quot;, color = Color.White)&#10;            }&#10;        }&#10;&#10;        Spacer(modifier = Modifier.height(12.dp))&#10;&#10;        Card(modifier = Modifier.fillMaxWidth(), elevation = CardDefaults.cardElevation(4.dp)) {&#10;            Column(modifier = Modifier.padding(12.dp)) {&#10;                Row(modifier = Modifier.fillMaxWidth(), horizontalArrangement = Arrangement.spacedBy(8.dp)) {&#10;                    Text(&quot;Nombre&quot;, modifier = Modifier.weight(2f), fontWeight = FontWeight.Bold)&#10;                    Text(&quot;RUT&quot;, modifier = Modifier.weight(1f), fontWeight = FontWeight.Bold)&#10;                    Text(&quot;Correo&quot;, modifier = Modifier.weight(2f), fontWeight = FontWeight.Bold)&#10;                    Text(&quot;Acciones&quot;, modifier = Modifier.widthIn(min = 120.dp), fontWeight = FontWeight.Bold)&#10;                }&#10;                HorizontalDivider(thickness = 1.dp)&#10;&#10;                LazyColumn(modifier = Modifier.fillMaxWidth()) {&#10;                    items(usuarios) { u -&gt;&#10;                        Row(modifier = Modifier.fillMaxWidth().padding(vertical = 8.dp), verticalAlignment = Alignment.CenterVertically) {&#10;                            Text(u.usuario, modifier = Modifier.weight(2f), maxLines = 1, overflow = TextOverflow.Ellipsis)&#10;                            Text(u.rut, modifier = Modifier.weight(1f), maxLines = 1, overflow = TextOverflow.Ellipsis)&#10;                            Text(u.correo, modifier = Modifier.weight(2f), maxLines = 1, overflow = TextOverflow.Ellipsis)&#10;&#10;                            // Acciones: ancho mínimo para que los iconos no queden cortados&#10;                            Row(modifier = Modifier.widthIn(min = 120.dp), horizontalArrangement = Arrangement.End, verticalAlignment = Alignment.CenterVertically) {&#10;                                IconButton(onClick = {&#10;                                    // preparar diálogo edición&#10;                                    usuarioAEditar = u&#10;                                    editRut = u.rut&#10;                                    editUsuario = u.usuario&#10;                                    editCorreo = u.correo&#10;                                    editPass = u.pass&#10;                                    mostrarDialogEdicion = true&#10;                                }, modifier = Modifier.size(48.dp)) {&#10;                                    Icon(&#10;                                        imageVector = Icons.Filled.Edit,&#10;                                        contentDescription = &quot;Editar&quot;,&#10;                                        tint = AccentGreen,&#10;                                        modifier = Modifier.size(24.dp)&#10;                                    )&#10;                                }&#10;&#10;                                Spacer(modifier = Modifier.width(8.dp))&#10;&#10;                                IconButton(onClick = {&#10;                                    // eliminar&#10;                                    scope.launch {&#10;                                        usuarioDao.deleteById(u.id)&#10;                                        usuarios = usuarioDao.getAll()&#10;                                    }&#10;                                }, modifier = Modifier.size(48.dp)) {&#10;                                    Icon(&#10;                                        imageVector = Icons.Filled.Delete,&#10;                                        contentDescription = &quot;Eliminar&quot;,&#10;                                        tint = Color.Red,&#10;                                        modifier = Modifier.size(24.dp)&#10;                                    )&#10;                                }&#10;                            }&#10;                        }&#10;                        HorizontalDivider(thickness = 1.dp)&#10;                    }&#10;                }&#10;            }&#10;        }&#10;    }&#10;&#10;    // Dialogo de edición&#10;    if (mostrarDialogEdicion &amp;&amp; usuarioAEditar != null) {&#10;        AlertDialog(&#10;            onDismissRequest = { mostrarDialogEdicion = false },&#10;            confirmButton = {&#10;                TextButton(onClick = {&#10;                    // guardar cambios&#10;                    val id = usuarioAEditar!!.id&#10;                    scope.launch {&#10;                        usuarioDao.updateById(id, editRut, editUsuario, editCorreo, editPass)&#10;                        usuarios = usuarioDao.getAll()&#10;                        mostrarDialogEdicion = false&#10;                    }&#10;                }) { Text(&quot;Guardar&quot;) }&#10;            },&#10;            dismissButton = {&#10;                TextButton(onClick = { mostrarDialogEdicion = false }) { Text(&quot;Cancelar&quot;) }&#10;            },&#10;            title = { Text(&quot;Editar usuario&quot;) },&#10;            text = {&#10;                Column {&#10;                    OutlinedTextField(value = editRut, onValueChange = { editRut = it }, label = { Text(&quot;RUT&quot;) })&#10;                    OutlinedTextField(value = editUsuario, onValueChange = { editUsuario = it }, label = { Text(&quot;Nombre de usuario&quot;) })&#10;                    OutlinedTextField(value = editCorreo, onValueChange = { editCorreo = it }, label = { Text(&quot;Correo&quot;) })&#10;                    OutlinedTextField(value = editPass, onValueChange = { editPass = it }, label = { Text(&quot;Password&quot;) })&#10;                }&#10;            }&#10;        )&#10;    }&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/example/cosa/presentation/ui/screens/VentasAdminScreen.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/example/cosa/presentation/ui/screens/VentasAdminScreen.kt" />
              <option name="originalContent" value="package com.example.cosa.presentation.ui.screens&#10;&#10;import androidx.compose.foundation.layout.*&#10;import androidx.compose.material3.Text&#10;import androidx.compose.material3.MaterialTheme&#10;import androidx.compose.runtime.Composable&#10;import androidx.compose.ui.Modifier&#10;import androidx.compose.ui.unit.dp&#10;import androidx.navigation.NavHostController&#10;&#10;@Composable&#10;fun VentasAdminScreen(navController: NavHostController) {&#10;    Column(modifier = Modifier.fillMaxSize().padding(16.dp)) {&#10;        Text(&quot;Ventas&quot;, style = MaterialTheme.typography.titleMedium)&#10;        Spacer(modifier = Modifier.height(8.dp))&#10;        Text(&quot;Aquí puedes mostrar las ventas registradas o reportes.&quot;)&#10;    }&#10;}&#10;&#10;" />
              <option name="updatedContent" value="package com.example.cosa.presentation.ui.screens&#10;&#10;import androidx.compose.foundation.background&#10;import androidx.compose.foundation.layout.*&#10;import androidx.compose.foundation.lazy.LazyColumn&#10;import androidx.compose.foundation.lazy.items&#10;import androidx.compose.material3.*&#10;import androidx.compose.runtime.*&#10;import androidx.compose.ui.Alignment&#10;import androidx.compose.ui.Modifier&#10;import androidx.compose.ui.graphics.Color&#10;import androidx.compose.ui.text.font.FontWeight&#10;import androidx.compose.ui.unit.dp&#10;import androidx.compose.ui.unit.sp&#10;import androidx.navigation.NavHostController&#10;import com.example.cosa.data.model.Sale&#10;import com.example.cosa.data.model.SaleItem&#10;import com.example.cosa.data.repository.VentaRepository&#10;import kotlinx.coroutines.launch&#10;import java.text.SimpleDateFormat&#10;import java.util.Locale&#10;&#10;private val AccentGreen = Color(0xFF2E8B57)&#10;private val BgMain = Color(0xFFF7F7F7)&#10;&#10;@OptIn(ExperimentalMaterial3Api::class)&#10;@Composable&#10;fun VentasAdminScreen(navController: NavHostController) {&#10;    val repo = remember { VentaRepository() }&#10;    val scope = rememberCoroutineScope()&#10;&#10;    var ventas by remember { mutableStateOf&lt;List&lt;Sale&gt;&gt;(emptyList()) }&#10;    var totalIngresos by remember { mutableStateOf(0.0) }&#10;    var totalVentas by remember { mutableStateOf(0) }&#10;    var totalProductosVendidos by remember { mutableStateOf(0) }&#10;&#10;    var ventaSeleccionada by remember { mutableStateOf&lt;Sale?&gt;(null) }&#10;    var mostrarDetalle by remember { mutableStateOf(false) }&#10;&#10;    LaunchedEffect(Unit) {&#10;        ventas = repo.obtenerVentas()&#10;        totalVentas = ventas.size&#10;        totalIngresos = ventas.sumOf { it.total }&#10;        totalProductosVendidos = ventas.sumOf { it.items.sumOf { it.cantidad } }&#10;    }&#10;&#10;    Column(modifier = Modifier&#10;        .fillMaxSize()&#10;        .background(BgMain)&#10;        .padding(16.dp)) {&#10;&#10;        Text(&quot;Ventas&quot;, fontSize = 22.sp, fontWeight = FontWeight.Bold)&#10;        Spacer(modifier = Modifier.height(12.dp))&#10;&#10;        // Mini dashboard: 3 tarjetas&#10;        Row(modifier = Modifier.fillMaxWidth(), horizontalArrangement = Arrangement.spacedBy(12.dp)) {&#10;            Card(modifier = Modifier.weight(1f), elevation = CardDefaults.cardElevation(6.dp)) {&#10;                Column(modifier = Modifier.padding(12.dp)) {&#10;                    Text(&quot;Total Ventas&quot;, fontWeight = FontWeight.SemiBold)&#10;                    Text(totalVentas.toString(), fontSize = 20.sp, color = AccentGreen)&#10;                }&#10;            }&#10;            Card(modifier = Modifier.weight(1f), elevation = CardDefaults.cardElevation(6.dp)) {&#10;                Column(modifier = Modifier.padding(12.dp)) {&#10;                    Text(&quot;Ingresos&quot;, fontWeight = FontWeight.SemiBold)&#10;                    Text(&quot;$${totalIngresos.toInt()}&quot;, fontSize = 20.sp, color = AccentGreen)&#10;                }&#10;            }&#10;            Card(modifier = Modifier.weight(1f), elevation = CardDefaults.cardElevation(6.dp)) {&#10;                Column(modifier = Modifier.padding(12.dp)) {&#10;                    Text(&quot;Productos vendidos&quot;, fontWeight = FontWeight.SemiBold)&#10;                    Text(totalProductosVendidos.toString(), fontSize = 20.sp, color = AccentGreen)&#10;                }&#10;            }&#10;        }&#10;&#10;        Spacer(modifier = Modifier.height(16.dp))&#10;&#10;        Card(modifier = Modifier.fillMaxWidth(), elevation = CardDefaults.cardElevation(4.dp)) {&#10;            Column(modifier = Modifier.padding(12.dp)) {&#10;                Text(&quot;Historial de Ventas&quot;, fontWeight = FontWeight.SemiBold)&#10;                Spacer(modifier = Modifier.height(8.dp))&#10;&#10;                LazyColumn(modifier = Modifier.fillMaxWidth()) {&#10;                    items(ventas) { v -&gt;&#10;                        VentaListItem(v, onDetalle = { s -&gt;&#10;                            ventaSeleccionada = s&#10;                            mostrarDetalle = true&#10;                        })&#10;                        HorizontalDivider(thickness = 1.dp)&#10;                    }&#10;                }&#10;            }&#10;        }&#10;    }&#10;&#10;    if (mostrarDetalle &amp;&amp; ventaSeleccionada != null) {&#10;        val sdf = SimpleDateFormat(&quot;dd/MM/yyyy HH:mm&quot;, Locale(&quot;es&quot;,&quot;ES&quot;))&#10;        val v = ventaSeleccionada!!&#10;        AlertDialog(&#10;            onDismissRequest = { mostrarDetalle = false },&#10;            confirmButton = {&#10;                TextButton(onClick = { mostrarDetalle = false }) { Text(&quot;Cerrar&quot;) }&#10;            },&#10;            title = { Text(&quot;Detalle venta ${v.id}&quot;) },&#10;            text = {&#10;                Column {&#10;                    Text(&quot;Fecha: ${sdf.format(java.util.Date(v.fecha))}&quot;)&#10;                    Spacer(modifier = Modifier.height(8.dp))&#10;                    Text(&quot;Total: $${v.total.toInt()}&quot;, fontWeight = FontWeight.Bold)&#10;                    Spacer(modifier = Modifier.height(8.dp))&#10;&#10;                    Text(&quot;Items:&quot;)&#10;                    v.items.forEach { item -&gt;&#10;                        Row(modifier = Modifier.fillMaxWidth(), horizontalArrangement = Arrangement.SpaceBetween) {&#10;                            Text(&quot;${item.nombre} x${item.cantidad}&quot;)&#10;                            Text(&quot;$${(item.precioUnitario*item.cantidad).toInt()}&quot;)&#10;                        }&#10;                    }&#10;                }&#10;            }&#10;        )&#10;    }&#10;}&#10;&#10;@Composable&#10;fun VentaListItem(v: Sale, onDetalle: (Sale) -&gt; Unit) {&#10;    val sdf = SimpleDateFormat(&quot;dd/MM/yyyy&quot;, Locale(&quot;es&quot;,&quot;ES&quot;))&#10;    Row(modifier = Modifier&#10;        .fillMaxWidth()&#10;        .padding(vertical = 8.dp), verticalAlignment = Alignment.CenterVertically) {&#10;        Column(modifier = Modifier.weight(1f)) {&#10;            Text(&quot;Venta ${v.id}&quot;, fontWeight = FontWeight.SemiBold)&#10;            Text(sdf.format(java.util.Date(v.fecha)))&#10;        }&#10;        Text(&quot;$${v.total.toInt()}&quot;)&#10;        Spacer(modifier = Modifier.width(12.dp))&#10;        Button(onClick = { onDetalle(v) }, colors = ButtonDefaults.buttonColors(containerColor = AccentGreen)) {&#10;            Text(&quot;Detalle&quot;, color = Color.White)&#10;        }&#10;    }&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>